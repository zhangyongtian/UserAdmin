{"remainingRequest":"D:\\biyesheji\\UserView\\userview\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\biyesheji\\UserView\\userview\\src\\components\\blogviewcomponent\\blogcomment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\biyesheji\\UserView\\userview\\src\\components\\blogviewcomponent\\blogcomment.vue","mtime":1606646524507},{"path":"D:\\biyesheji\\UserView\\userview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\UserView\\userview\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\biyesheji\\UserView\\userview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\UserView\\userview\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7c2F2ZXNvbmNvbW1lbnR9IGZyb20gJ0AvdXRpbC9yZXF1ZXN0YXhpb3N1dGlsL3NhdmVzb25jb21tZW50JwppbXBvcnQge3Nob3dzb25jb21tZW50fSBmcm9tICdAL3V0aWwvcmVxdWVzdGF4aW9zdXRpbC9zaG93c29uY29tbWVudCcKZXhwb3J0IGRlZmF1bHR7CgluYW1lOiJibG9nY29tbWVudCIsCglkYXRhKCl7CgkJcmV0dXJuIHsKCQkJdGV4dGFyZWE6IiIsCgkJCW5vd3VzZXJpZDp0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkLAoJCQlsb2FkaW5nOmZhbHNlLAoJCQlzb25jb21tZW50OltdLAoJCQl0ZXh0YXJlYXRlbXA6IiIsCgkJCXRodW1ic1VwOmZhbHNlCgkJfQoJfSwKCXByb3BzOnsKCQl1c2VyQW5kUGFyZW5ldENvbWVudDp7CgkJCXR5cGU6T2JqZWN0LAoJCQlkZWZhdWx0KCl7CgkJCQlyZXR1cm4gewoJCQkJCQoJCQkJfTsKCQkJfQoJCX0KCX0sCgltZXRob2RzOnsKCQlyZXBsYXkodXNlcm5hbWUpewoJCQl0aGlzLnRleHRhcmVhKz0iI0AiK3VzZXJuYW1lKyImIjsKCQl9LAoJCWNvbW1pdCh1c2VyaWQscGFyZW50Y29tbWVudGlkKXsKCQkJdGhpcy5sb2FkaW5nPXRydWU7CgkJCWxldCBjb21tZW50PXt9OwoJCQljb21tZW50LnBhcmVudGlkPXBhcmVudGNvbW1lbnRpZDsKCQkJY29tbWVudC51c2VyaWQ9dXNlcmlkOwoJCQl0aGlzLnRleHRhcmVhdGVtcD10aGlzLnRleHRhcmVhLnJlcGxhY2UoLyMvZywiPHNwYW4gc3R5bGU9J2NvbG9yOiBza3libHVlOyc+Iik7CgkJCXRoaXMudGV4dGFyZWF0ZW1wPXRoaXMudGV4dGFyZWF0ZW1wLnJlcGxhY2UoLyYvZywiPC9zcGFuPiIpOwoJCQljb25zb2xlLmxvZyh0aGlzLnRleHRhcmVhdGVtcCkKCQkJY29tbWVudC5jb21tZW50PXRoaXMudGV4dGFyZWF0ZW1wOwoJCQlzYXZlc29uY29tbWVudChKU09OLnN0cmluZ2lmeShjb21tZW50KSkudGhlbihyZXM9PnsKCQkJCXRoaXMubG9hZGluZz1mYWxzZTsKCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJbWVzc2FnZTogJ+aBreWWnOS9oO+8jOivhOiuuuaIkOWKnycsCgkJCQkJdHlwZTogJ3N1Y2Nlc3MnCgkJCQl9KTsKCQkJCXNob3dzb25jb21tZW50KEpTT04uc3RyaW5naWZ5KGNvbW1lbnQpKS50aGVuKHJlcz0+ewoJCQkJCXRoaXMuc29uY29tbWVudD1yZXMuZGF0YS5kYXRhCgkJCQl9KS5jYXRjaChlcnJvcj0+ewoJCQkJCWNvbnNvbGUubG9nKCLmmL7npLrlrZDor4TorrrplJnor68iKQoJCQkJfSkKCQkJfSkuY2F0Y2goZXJyb3I9PnsKCQkJCWNvbnNvbGUubG9nKGVycm9yKQoJCQl9KQoJCQkKCQl9LAoJCXJlc2V0KCl7CgkJCXRoaXMudGV4dGFyZWE9IiIKCQl9LAoJCXRodW1ic3VwKCl7CgkJCXRoaXMudGh1bWJzVXA9IXRoaXMudGh1bWJzVXA7CgkJCWlmKHRoaXMudGh1bWJzVXApewoJCQkJdGhpcy51c2VyQW5kUGFyZW5ldENvbWVudC5wYXJuZXRjb21tZW50Lnphbmdjb3VudCsrOwoJCQl9ZWxzZXsKCQkJCXRoaXMudXNlckFuZFBhcmVuZXRDb21lbnQucGFybmV0Y29tbWVudC56YW5nY291bnQtLTsKCQkJfQoJCX0KCX0sCgljcmVhdGVkKCkgewoJCWxldCBjb21tZW50PXt9OwoJCWNvbW1lbnQucGFyZW50aWQ9dGhpcy51c2VyQW5kUGFyZW5ldENvbWVudC5wYXJuZXRjb21tZW50LmlkOwoJCXNob3dzb25jb21tZW50KEpTT04uc3RyaW5naWZ5KGNvbW1lbnQpKS50aGVuKHJlcz0+ewoJCQl0aGlzLnNvbmNvbW1lbnQ9cmVzLmRhdGEuZGF0YQoJCX0pLmNhdGNoKGVycm9yPT57CgkJCWNvbnNvbGUubG9nKCLmmL7npLrlrZDor4TorrrplJnor68iKQoJCX0pCgl9Cn0K"},{"version":3,"sources":["blogcomment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"blogcomment.vue","sourceRoot":"src/components/blogviewcomponent","sourcesContent":["<template>\r\n\t<div class=\"blog_comment\">\r\n\t\t<div class=\"blog_comment_content\">\r\n\t\t\t<div class=\"blog_comment_content_img\">\r\n\t\t\t\t<img :src=\"userAndParenetComent.useryonghu.userimage\" alt=\"\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"blog_comment_content_c\">\r\n\t\t\t\t<span>{{userAndParenetComent.useryonghu.username}} \r\n\t\t\t\t</span>\r\n\t\t\t\t<div style=\"margin:0px;color:orange;display: inline-block;\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<span v-if=\"0==userAndParenetComent.useryonghu.userlevel\">\r\n\t\t\t\t\t\t等级 初级\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span v-if=\"30==userAndParenetComent.useryonghu.userlevel\">\r\n\t\t\t\t\t\t等级 高级\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span v-if=\"100==userAndParenetComent.useryonghu.userlevel\">\r\n\t\t\t\t\t\t等级 大师\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span>{{userAndParenetComent.parnetcomment.createtime}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"blog_comment_comment\">\r\n\t\t\t<div class=\"blog_comment_comment_l\">\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div class=\"blog_comment_comment_r\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{{userAndParenetComent.parnetcomment.comment}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<el-link :underline=\"false\">\r\n\t\t\t\t\t<span @click=\"thumbsup\">\r\n\t\t\t\t\t\t<span v-if=\"thumbsUp\"style=\"color: red;\" class=\"icon iconfont icon-iconfontzhizuobiaozhun023148-copy\"></span>\r\n\t\t\t\t\t\t<span v-else  class=\"icon iconfont icon-iconfontzhizuobiaozhun023148\"></span>\r\n\t\t\t\t\t</span>\t\r\n\t\t\t\t\t{{userAndParenetComent.parnetcomment.zangcount}}\r\n\t\t\t\t\t</el-link>\r\n\t\t\t\t\t<el-link :underline=\"false\" style=\"margin-left: 6px;\" @click=\"replay(userAndParenetComent.useryonghu.username)\">回复</el-link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- 下面是子评论 -->\r\n\t\t\t\t\r\n\t\t\t\t<el-timeline>\r\n\t\t\t\t\t<el-timeline-item\r\n\t\t\t\t\t\tv-for=\"(item, index) in soncomment\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"blog_comment_content\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t\t<div class=\"blog_comment_content_img\" style=\"justify-content: flex-start;\">\r\n\t\t\t\t\t\t\t\t<img :src=\"item.useryonghu.userimage\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"blog_comment_content_c\">\r\n\t\t\t\t\t\t\t\t<span>{{item.useryonghu.username}}</span>\r\n\t\t\t\t\t\t\t\t<div style=\"margin:0px;color:orange;display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"0==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t\t等级 初级\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"30==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t\t等级 高级\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"100==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t\t等级 大师\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>{{item.soncomment.createtime}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"blog_comment_comment_r\">\r\n\t\t\t\t\t\t\t<div style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t<div style=\"flex: 1;\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style=\"flex: 9;\">\r\n\t\t\t\t\t\t\t\t\t<div v-html=\"item.soncomment.comment\">\r\n\t\t\t\t\t\t\t\t\t<!-- \t\t{{item.soncomment.comment}} -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-link :underline=\"false\" style=\"margin-left: 6px;\" @click=\"replay(item.useryonghu.username)\">回复</el-link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</el-timeline-item>\r\n\t\t\t\t</el-timeline>\r\n<!-- \t\t\t\t<div v-for=\"item in soncomment\">\r\n\t\t\t\t\t<div class=\"blog_comment_content\" style=\"margin-top: 10px;\">\r\n\t\t\t\t\t\t<div class=\"blog_comment_content_img\" style=\"justify-content: flex-start;\">\r\n\t\t\t\t\t\t\t<img :src=\"item.useryonghu.userimage\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"blog_comment_content_c\">\r\n\t\t\t\t\t\t\t<span>{{item.useryonghu.username}}</span>\r\n\t\t\t\t\t\t\t<div style=\"margin:0px;color:orange;display: inline-block;\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<span v-if=\"0==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t等级 初级\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span v-if=\"30==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t等级 高级\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span v-if=\"100==item.useryonghu.userlevel\">\r\n\t\t\t\t\t\t\t\t\t等级 大师\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span>{{item.soncomment.createtime}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"blog_comment_comment_r\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{{item.soncomment.comment}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<el-link :underline=\"false\">赞{{item.soncomment.likes}}</el-link>\r\n\t\t\t\t\t\t\t<el-link :underline=\"false\" style=\"margin-left: 6px;\" @click=\"replay(item.useryonghu.username)\">回复</el-link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> -->\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<el-input\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t:rows=\"2\"\r\n\t\t\t\tplaceholder=\"请输入内容\"\r\n\t\t\t\tv-model=\"textarea\"\r\n\t\t\t\tstyle=\"margin-top: 10px;\"\r\n\t\t\t\tmaxlength=\"250\"\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t</el-input>\r\n\t\t\t\t<div style=\"margin-top: 10px;display: flex;justify-content: flex-end;\">\r\n\t\t\t\t\t<!-- 提取当前用户的id还有parentblogid -->\r\n\t\t\t\t\t<el-button type=\"danger\" @click=\"commit(nowuserid,userAndParenetComent.parnetcomment.id)\" :loading=\"loading\">发布</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" style=\"margin-left: 10px;\" @click=\"reset\">取消</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<el-divider></el-divider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport {savesoncomment} from '@/util/requestaxiosutil/savesoncomment'\r\n\timport {showsoncomment} from '@/util/requestaxiosutil/showsoncomment'\r\n\texport default{\r\n\t\tname:\"blogcomment\",\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\ttextarea:\"\",\r\n\t\t\t\tnowuserid:this.$store.state.user.id,\r\n\t\t\t\tloading:false,\r\n\t\t\t\tsoncomment:[],\r\n\t\t\t\ttextareatemp:\"\",\r\n\t\t\t\tthumbsUp:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tuserAndParenetComent:{\r\n\t\t\t\ttype:Object,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\treplay(username){\r\n\t\t\t\tthis.textarea+=\"#@\"+username+\"&\";\r\n\t\t\t},\r\n\t\t\tcommit(userid,parentcommentid){\r\n\t\t\t\tthis.loading=true;\r\n\t\t\t\tlet comment={};\r\n\t\t\t\tcomment.parentid=parentcommentid;\r\n\t\t\t\tcomment.userid=userid;\r\n\t\t\t\tthis.textareatemp=this.textarea.replace(/#/g,\"<span style='color: skyblue;'>\");\r\n\t\t\t\tthis.textareatemp=this.textareatemp.replace(/&/g,\"</span>\");\r\n\t\t\t\tconsole.log(this.textareatemp)\r\n\t\t\t\tcomment.comment=this.textareatemp;\r\n\t\t\t\tsavesoncomment(JSON.stringify(comment)).then(res=>{\r\n\t\t\t\t\tthis.loading=false;\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '恭喜你，评论成功',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tshowsoncomment(JSON.stringify(comment)).then(res=>{\r\n\t\t\t\t\t\tthis.soncomment=res.data.data\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tconsole.log(\"显示子评论错误\")\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\treset(){\r\n\t\t\t\tthis.textarea=\"\"\r\n\t\t\t},\r\n\t\t\tthumbsup(){\r\n\t\t\t\tthis.thumbsUp=!this.thumbsUp;\r\n\t\t\t\tif(this.thumbsUp){\r\n\t\t\t\t\tthis.userAndParenetComent.parnetcomment.zangcount++;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.userAndParenetComent.parnetcomment.zangcount--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet comment={};\r\n\t\t\tcomment.parentid=this.userAndParenetComent.parnetcomment.id;\r\n\t\t\tshowsoncomment(JSON.stringify(comment)).then(res=>{\r\n\t\t\t\tthis.soncomment=res.data.data\r\n\t\t\t}).catch(error=>{\r\n\t\t\t\tconsole.log(\"显示子评论错误\")\r\n\t\t\t})\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"less\">\r\n\t.blog_comment{\r\n\t\t.blog_comment_content{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\t.blog_comment_content_img{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t&>img{\r\n\t\t\t\t\twidth: 50px;\r\n\t\t\t\t\theight: 50px;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.blog_comment_content_c{\r\n\t\t\t\tflex: 9;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.blog_comment_comment{\r\n\t\t\tdisplay: flex;\r\n\t\t\t.blog_comment_comment_l{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t.blog_comment_comment_r{\r\n\t\t\t\tflex: 9;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\n</style>\n"]}]}